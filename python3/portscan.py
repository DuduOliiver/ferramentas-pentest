import sys
import socket

if len(sys.argv) <= 1:
    print("usage: python3 portscan.py 192.168.15.1")
else:
    for i in range(1, 65535):
        socks = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        res = socks.connect_ex((sys.argv[1], i))
        if res == 0:
            print(f"porta {i} aberta")
            socks.close()
        else:
            continue
